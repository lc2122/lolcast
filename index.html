<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LCK 플레이어</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="custom-bulma.css">
</head>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<body>
    <div id="sidebar" class="p-4">
        
        <div id="section-group-competition">
            <h3 class="title is-5">대회 채널</h3>
            <div id="lck-channels" class="buttons are-small is-flex-wrap-wrap"></div>

            <h3 class="title is-5">대회 대진표</h3>
            <div id="lck-schedule">
                <p class="loading-msg has-text-grey has-text-centered py-2">대진표 로딩 중...</p>
            </div>
        </div>

        <div id="section-group-channels">
            <h3 class="title is-6">실시간 채널</h3>
            <div id="custom-address-channels" class="buttons are-small is-flex-wrap-wrap"></div>

            <h3 class="title is-6 toggle-header" onclick="toggleSection(this, 'combined-channels-content')">
                고정 채널
            </h3>
            <div id="combined-channels-content" class="buttons are-small is-flex-wrap-wrap"></div>
        </div>

        <div id="section-group-layout">
            <h3 class="title is-5">분할 화면 설정</h3>
            <div id="split-screen-buttons" class="buttons">
                <button class="button is-outlined" onclick="setSplitScreen(1)">1분할</button>
                <button class="button is-outlined" onclick="setSplitScreen(2)">2분할</button>
                <button class="button is-outlined" onclick="setSplitScreen(3)">3분할</button>
                <button class="button is-outlined" onclick="setSplitScreen(4)">4분할</button>
            </div>
        </div>
        
        <div id="custom-url-container" class="">
            <div class="field">
                <div class="control">
                        <input type="text" id="custom-url-input" class="input is-small" placeholder="m3u8, 치지직 ID, 채널 URL 입력">
                </div>
            </div>
            <div id="custom-url-buttons" class="field is-grouped">
                <p class="control">
                    <button class="button is-link is-small is-fullwidth" onclick="playCustomUrl()">실행</button>
                </p>
            </div>
        </div>

        <div id="section-group-guides">
            <div id="firefox-notice" class="notification is-warning is-light is-size-7 p-2" style="display:none;">
                <a href="https://addons.mozilla.org/ko/firefox/addon/m3u8-hls-player-with-shortcuts/" target="_blank">HLS 플레이어 (설치 필수)</a><br>
                <a href="https://lolcast.web.app/manual.html" target="_blank">롤캐티비 가이드</a>
            </div>
            <div id="chrome-notice" class="notification is-warning is-light is-size-7 p-2">
                    <a href="https://chromewebstore.google.com/detail/hls-player-m3u8-streaming/eakdijdofmnclopcffkkgmndadhbjgka?hl=ko" target="_blank">HLS 플레이어 (설치 필수)</a><br>
                    <a href="https://lolcast.web.app/manual.html" target="_blank">롤캐티비 가이드</a>
            </div>
        </div>

        <div id="sidebar-settings-header" class="mt-auto pt-4"> 
            <button class="button is-info is-fullwidth is-small" onclick="openModal()">
                <span class="icon is-small"><i class="fas fa-cog"></i></span>
                <span>즐겨찾기 / 메뉴 설정</span>
            </button>
        </div>
    </div> 
    
    <div id="player-container" class="has-background-light">
        <button id="toggle-btn" class="button is-small is-rounded" onclick="toggleSidebar()">☰</button>
    </div>

    <div class="modal" id="favorite-modal">
        <div class="modal-background" onclick="closeModal()"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <p class="modal-card-title">즐겨찾기 및 메뉴 설정</p>
                <button class="delete" aria-label="close" onclick="closeModal()"></button>
            </header>
            <section class="modal-card-body">
                <div class="field">
                    <label class="label is-small">이름</label>
                    <div class="control">
                        <input id="favorite-name-input" class="input is-small" type="text" placeholder="이름">
                    </div>
                </div>
                <div class="field mt-3">
                    <label class="label is-small">URL 또는 채널 ID</label>
                    <div class="control">
                        <input id="favorite-url-input" class="input is-small" type="text" placeholder="URL 또는 채널 ID">
                    </div>
                </div>
                <label class="label is-small mt-4">즐겨찾기 목록</label>
                <div id="favorite-list" style="max-height: 200px; overflow-y: auto; border-top: 1px solid #eee; margin-top: 5px; padding-top: 5px;">
                </div>

                <hr>
                <label class="label is-small">사이드바 메뉴 표시 설정</label>
                <div id="menu-settings-list" class="control">
                    <label class="checkbox is-small">
                        <input type="checkbox" data-section-id="section-group-competition"> 대회 정보 (채널, 대진표)
                    </label>
                    <label class="checkbox is-small">
                        <input type="checkbox" data-section-id="section-group-channels"> 채널 목록 (실시간, 고정)
                    </label>
                    <label class="checkbox is-small">
                        <input type="checkbox" data-section-id="section-group-layout"> 화면 설정 (분할)
                    </label>
                    <label class="checkbox is-small">
                        <input type="checkbox" data-section-id="custom-url-container"> URL 입력창
                    </label>
                    <label class="checkbox is-small">
                        <input type="checkbox" data-section-id="section-group-guides"> 안내 (HLS, 가이드)
                    </label>
                </div>
            </section>
            <footer class="modal-card-foot is-justify-content-flex-end">
                <button class="button is-success" onclick="addFavorite()">즐겨찾기 추가</button>
                <button class="button is-link" onclick="saveSidebarVisibility()">메뉴 설정 저장</button>
                <button class="button" onclick="closeModal()">닫기</button>
            </footer>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
