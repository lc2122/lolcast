<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>단축 URL 영상 재생</title>
</head>
<body>
<input type="text" id="shortUrl" placeholder="단축 URL을 입력하세요">
<button onclick="playOriginalUrl()">재생</button>
<video id="videoPlayer" controls></video>

<script>
function playOriginalUrl() {
  var shortUrl = document.getElementById("shortUrl").value;
  
  // AJAX 요청을 통해 서버에 단축 URL을 보내어 원래 URL을 받아옵니다.
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = function() {
    if (xhr.readyState === 4 && xhr.status === 200) {
      var originalUrl = xhr.responseText;
      var videoPlayer = document.getElementById("videoPlayer");
      
      // HLS 재생 확장 플레이어를 사용하여 영상을 재생합니다.
      videoPlayer.src = originalUrl;
      videoPlayer.play();
    }
  };
  
  xhr.open("GET", "convertUrl.php?url=" + shortUrl);
  xhr.send();
}
</script>
</body>
</html>
