<!DOCTYPE html>
<html>
<body>

<video id="videoPlayer" width="320" height="240" controls></video>

<input type="text" id="urlInput" placeholder="Enter video URL here">
<button onclick="playVideo()">Play</button>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
    var player = document.getElementById('videoPlayer');
    var hls = new Hls();

    function playVideo() {
        var url = document.getElementById('urlInput').value;

        // 유튜브 주소의 경우 ? 뒷부분을 제거
        if (url.includes('youtube.com') || url.includes('youtu.be')) {
            url = url.split('?')[0];
        }

        if(Hls.isSupported() && url.endsWith('.m3u8')) {
            hls.loadSource(url);
            hls.attachMedia(player);
            hls.on(Hls.Events.MANIFEST_PARSED, function() {
                player.play();
            });
        } else {
            player.src = url;
            player.play();
        }
    }
</script>

</body>
</html>
