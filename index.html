<!DOCTYPE html> 
<html lang="en">
    <head> 
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Video Player</title> 
        
 <style>
     #video-container {
         margin-top: 15px; 
     } 
     video {
         width: 100%; 
         height: 90vh; /* 90% of the viewport height */
     } 
     iframe {
         width: 100%;
         height: 93vh; 
     }
 </style> 
    </head> 
<body>
        <input type="text" id="video-url" placeholder="Enter video URL"> 
        <button onclick="playVideo()">Play</button>
        <div id="video-container"> </div> 
        <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script> 
        
<script>
    function playVideo() { 
        const videoUrl = document.getElementById('video-url').value;
        const convertedUrl = convertUrl(videoUrl);
        if (convertedUrl.includes('.m3u8')) { 
            const video = document.createElement('video'); 
            video.controls = true; 
            video.autoplay = true; 
            const hls = new Hls();
            hls.loadSource(convertedUrl); 
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, function() { 
                video.play(); 
            }); 
            document.getElementById('video-container').innerHTML = '';
            document.getElementById('video-container').appendChild(video);
        } else {
            const iframe = document.createElement('iframe');
            iframe.src = convertedUrl; 
            iframe.width = '100%'; 
            iframe.height = '93vh'; 
            document.getElementById('video-container').innerHTML = '';
            document.getElementById('video-container').appendChild(iframe);
        } 
    }

    function convertUrl(videoUrl) {
        // Use AJAX to send videoUrl to converturl.php for processing
        // Example:
        // const xhttp = new XMLHttpRequest();
        // xhttp.open("GET", "converturl.php?url=" + videoUrl, false);
        // xhttp.send();
        // return xhttp.responseText;
        // This is just an example, actual implementation will depend on your server-side setup
        return videoUrl;
    }
</script>
</body> 
</html> 
